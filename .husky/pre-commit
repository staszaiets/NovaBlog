#!/usr/bin/env sh
. "$(dirname "$0")/_/husky.sh"

# Stop the commit process if any step fails
echo "Running type-check..."
npm run type-check || { echo "âŒ Type-check failed. Fix errors before committing."; exit 1; }
echo "âœ… Type-check passed."

# Check if lint-staged is installed and run it
if [ -f ./node_modules/.bin/lint-staged ]; then
  echo "Running lint-staged..."
  npm run lint-staged || { echo "âŒ Lint-staged failed. Fix errors before committing."; exit 1; }
  echo "âœ… Lint-staged passed."
else
  echo "âš ï¸ lint-staged not found. Skipping lint-staged step."
fi

echo "ğŸ‰ All checks passed. Ready to commit!"
